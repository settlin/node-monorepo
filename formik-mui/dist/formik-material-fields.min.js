!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react"),require("@material-ui/lab/ToggleButton"),require("@material-ui/lab/ToggleButtonGroup"),require("@material-ui/core/FormControl"),require("@material-ui/core/FormHelperText"),require("@material-ui/core/FormLabel"),require("formik"),require("@material-ui/core/styles"),require("@material-ui/core/Checkbox"),require("@material-ui/core/FormControlLabel"),require("@material-ui/core/FormGroup"),require("@material-ui/core/TextField"),require("@material-ui/core/InputAdornment"),require("react-select"),require("@material-ui/core/Typography"),require("@material-ui/core/Paper"),require("@material-ui/core/Chip"),require("@material-ui/core/MenuItem"),require("@material-ui/icons/Cancel"),require("@material-ui/core/styles/colorManipulator"),require("@material-ui/core/CircularProgress"),require("@material-ui/core/colors/green"),require("@material-ui/core/Button"),require("@material-ui/core/Fab"),require("@material-ui/icons/Check"),require("@material-ui/icons/Save"),require("@material-ui/icons/Clear"),require("@material-ui/core/Grid"),require("@material-ui/core/IconButton"),require("@material-ui/core/Icon"),require("@material-ui/icons/DoneAll"),require("react-fast-compare"),require("@material-ui/core/Radio"),require("@material-ui/core/RadioGroup"),require("@material-ui/core/Switch")):"function"==typeof define&&define.amd?define(["exports","react","@material-ui/lab/ToggleButton","@material-ui/lab/ToggleButtonGroup","@material-ui/core/FormControl","@material-ui/core/FormHelperText","@material-ui/core/FormLabel","formik","@material-ui/core/styles","@material-ui/core/Checkbox","@material-ui/core/FormControlLabel","@material-ui/core/FormGroup","@material-ui/core/TextField","@material-ui/core/InputAdornment","react-select","@material-ui/core/Typography","@material-ui/core/Paper","@material-ui/core/Chip","@material-ui/core/MenuItem","@material-ui/icons/Cancel","@material-ui/core/styles/colorManipulator","@material-ui/core/CircularProgress","@material-ui/core/colors/green","@material-ui/core/Button","@material-ui/core/Fab","@material-ui/icons/Check","@material-ui/icons/Save","@material-ui/icons/Clear","@material-ui/core/Grid","@material-ui/core/IconButton","@material-ui/core/Icon","@material-ui/icons/DoneAll","react-fast-compare","@material-ui/core/Radio","@material-ui/core/RadioGroup","@material-ui/core/Switch"],r):r((e=e||self).FormikMaterialFields={},e.React,e.ToggleButton,e.MuiToggleButtonGroup,e.FormControl,e.FormHelperText,e.FormLabel,e.formik,e.styles$7,e.MuiCheckbox,e.FormControlLabel,e.FormGroup,e.MuiTextField,e.InputAdornment,e.ReactSelect,e.Typography,e.Paper,e.Chip,e.MenuItem,e.CancelIcon,e.colorManipulator,e.CircularProgress,e.green,e.Button,e.Fab,e.CheckIcon,e.SaveIcon,e.Clear,e.Grid,e.IconButton,e.Icon,e.DoneAll,e.isEqual,e.MuiRadio,e.MuiRadioGroup,e.MuiSwitch)}(this,function(e,r,v,b,k,C,P,F,t,u,m,x,c,w,n,o,a,i,p,l,s,h,d,y,g,E,O,S,T,I,q,B,f,L,N,M){"use strict";var j="default"in r?r.default:r;v=v&&v.hasOwnProperty("default")?v.default:v,b=b&&b.hasOwnProperty("default")?b.default:b,k=k&&k.hasOwnProperty("default")?k.default:k,C=C&&C.hasOwnProperty("default")?C.default:C,P=P&&P.hasOwnProperty("default")?P.default:P,u=u&&u.hasOwnProperty("default")?u.default:u,m=m&&m.hasOwnProperty("default")?m.default:m,x=x&&x.hasOwnProperty("default")?x.default:x,c=c&&c.hasOwnProperty("default")?c.default:c,w=w&&w.hasOwnProperty("default")?w.default:w;var A="default"in n?n.default:n;function V(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function R(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,r,t){return r&&R(e.prototype,r),t&&R(e,t),e}function G(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function W(){return(W=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function H(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(e){G(r,e,t[e])})}return r}function z(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_(e,r)}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,r){return(_=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function U(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r.indexOf(t=a[n])<0&&(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r.indexOf(t=a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,r){return!r||"object"!=typeof r&&"function"!=typeof r?Y(e):r}function Z(e){return function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o=o&&o.hasOwnProperty("default")?o.default:o,a=a&&a.hasOwnProperty("default")?a.default:a,i=i&&i.hasOwnProperty("default")?i.default:i,p=p&&p.hasOwnProperty("default")?p.default:p,l=l&&l.hasOwnProperty("default")?l.default:l,h=h&&h.hasOwnProperty("default")?h.default:h,d=d&&d.hasOwnProperty("default")?d.default:d,y=y&&y.hasOwnProperty("default")?y.default:y,g=g&&g.hasOwnProperty("default")?g.default:g,E=E&&E.hasOwnProperty("default")?E.default:E,O=O&&O.hasOwnProperty("default")?O.default:O,S=S&&S.hasOwnProperty("default")?S.default:S,T=T&&T.hasOwnProperty("default")?T.default:T,I=I&&I.hasOwnProperty("default")?I.default:I,q=q&&q.hasOwnProperty("default")?q.default:q,B=B&&B.hasOwnProperty("default")?B.default:B,f=f&&f.hasOwnProperty("default")?f.default:f,L=L&&L.hasOwnProperty("default")?L.default:L,N=N&&N.hasOwnProperty("default")?N.default:N,M=M&&M.hasOwnProperty("default")?M.default:M;var J="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Q,X=(function(e){!function(){var i={}.hasOwnProperty;function l(){for(var e=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var n=typeof t;if("string"===n||"number"===n)e.push(t);else if(Array.isArray(t)&&t.length){var o=l.apply(null,t);o&&e.push(o)}else if("object"===n)for(var a in t)i.call(t,a)&&t[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=l.default=l:window.classNames=l}()}(Q={exports:{}},Q.exports),Q.exports);function ee(e,r){var t=e.field,n=void 0===t?{}:t,o=e.form,a=void 0===o?{}:o,i=e.disabled,l=void 0!==i&&i,s=e.error,u=e.checked,c=U(e,["field","form","disabled","error","multiple","checked"]),p=n.name,d=n.onChange,f=a.errors,h=a.touched,m=void 0===h?{}:h,v=a.isSubmitting,b=a.dirty,y=F.getIn(void 0===f?{}:f,p),g=(b||F.getIn(m,p))&&"string"==typeof y?y:null,k={};if(d)switch(r||c.type){case"select":break;case"radio":n.value=n.value||"",k.checked=u||(n.value?"checked":"");break;case"checkbox":n.value=void 0===n.value?"":!0===n.value?"checked":n.value||"",k.checked=void 0!==u?u:n.value?"checked":""}return H({disabled:v||l},c,n,k,{error:s||!!g,helperText:g||c.helperText})}var re=function(e){function t(e){var r;return V(this,t),G(Y(Y(r=K(this,$(t).call(this,e)))),"state",{dirty:!1}),r.handleChange=r.handleChange.bind(Y(Y(r))),r.handleBlur=r.handleBlur.bind(Y(Y(r))),r}return z(t,j.Component),D(t,[{key:"handleChange",value:function(e,r){this.props.field&&this.props.form.setFieldValue(this.props.field.name,r),this.props.onChange&&this.props.onChange(e.target.value),this.state.dirty||this.setState({dirty:!0})}},{key:"handleBlur",value:function(){this.props.field&&this.props.form.setFieldTouched(this.props.field.name,!0)}},{key:"render",value:function(){var e=this.props,r=e.label,t=e.FormControlProps,n=e.FormLabelProps,o=e.FormHelperTextProps,a=e.ToggleButtonProps,i=e.ToggleButtonGroupProps,l=e.compact,s=e.classes,u=e.options,c=e.exclusive,p=void 0===c||c,d=ee(U(e,["label","FormControlProps","FormLabelProps","FormHelperTextProps","ToggleButtonProps","ToggleButtonGroupProps","compact","classes","options","exclusive"])),f=d.error,h=d.helperText,m=U(d,["error","helperText"]);return j.createElement(k,W({error:f},t,{classes:H({},(t||{}).classes,l?{root:s.formControl}:{})}),r&&j.createElement(P,W({},n,{classes:H({},(n||{}).classes,l?{root:s.formLabel}:{})}),r),j.createElement(b,W({},i,m,G({exclusive:p,onChange:this.handleChange},"onChange",this.handleBlur)),u.map(function(e){return j.createElement(v,W({key:e.value},a,{value:e.value}),e.label)})),h&&j.createElement(C,W({},o,{className:X(G({},s.rowHelperText,"all"===row),o&&o.className)}),h))}}]),t}(),te=t.withStyles(function(){return{formControl:{"flex-direction":"row"},formLabel:{display:"flex","flex-direction":"row","align-items":"center","margin-right":"20px"}}})(re),ne=function(e){function t(e){var r;return V(this,t),(r=K(this,$(t).call(this,e))).handleChange=r.handleChange.bind(Y(Y(r))),r.handleBlur=r.handleBlur.bind(Y(Y(r))),r}return z(t,j.PureComponent),D(t,[{key:"handleChange",value:function(e){this.props.field&&this.props.field.onChange(e),this.props.onChange&&this.props.onChange(e)}},{key:"handleBlur",value:function(e){this.props.field&&this.props.field.onBlur(e),this.props.onBlur&&this.props.onBlur(e)}},{key:"render",value:function(){var e=this.props,r=e.label,t=e.FormControlProps,n=e.FormHelperTextProps,o=e.FormControlLabelProps,a=ee(U(e,["label","compact","FormControlProps","FormHelperTextProps","FormControlLabelProps"])),i=a.error,l=a.helperText,s=U(a,["error","helperText"]);return j.createElement(k,W({component:"fieldset",error:i},t),j.createElement(m,W({label:r},o,{control:j.createElement(u,W({},s,{onChange:this.handleChange,onBlur:this.handleBlur}))})),(i||l)&&j.createElement(C,n,l))}}]),t}();ne.displayName="FormikMaterialUICheckbox";var oe=function(e){function t(e){var r;return V(this,t),(r=K(this,$(t).call(this,e))).handleChange=r.handleChange.bind(Y(Y(r))),r.handleBlur=r.handleBlur.bind(Y(Y(r))),r}return z(t,j.Component),D(t,[{key:"handleChange",value:function(e,r){var t=this.props,n=t.name,o=t.value,a=t.formik.setFieldValue,i=e.currentTarget,l=Z(void 0===o?[]:o)||[];i.checked?l.push(r):l.splice(l.indexOf(r),1),a(n,l)}},{key:"handleBlur",value:function(){this.props.field&&this.props.form.setFieldTouched(this.props.field.name,!0)}},{key:"render",value:function(){var e=this.props,o=e.name,r=e.formik,t=r.errors,n=r.values,a=r.touched,i=e.options,l=e.label,s=e.compact,u=e.FormControlProps,c=e.FormLabelProps,p=e.FormHelperTextProps,d=e.CheckboxProps,f=e.FormGroupProps,h=e.classes,m=U(e,["name","formik","options","label","row","compact","FormControlProps","FormLabelProps","FormHelperTextProps","CheckboxProps","FormGroupProps","classes"]),v=F.getIn(n,o)||[],b=F.getIn(t,o),y=F.getIn(a,o)&&"string"==typeof b?b:null,g=y||m.helperText;return j.createElement(k,W({error:!!y},u,{classes:H({},(u||{}).classes,s?{root:h.formControl}:{})}),l&&j.createElement(P,W({},c,{classes:H({},(c||{}).classes,s?{root:h.formLabel}:{})}),l),j.createElement(x,W({},f,{row:(f||{}).row||s}),i.map(function(n,e){return j.createElement(F.Field,W({key:e,name:o},m),function(e){var t=e.form;return j.createElement(ne,W({},n,d,{field:e.field,form:t,name:o,checked:v.includes(n.value),onChange:function(){if(v.includes(n.value)){var e=v.filter(function(e){return e!==n.value});t.setFieldValue(o,e)}else{var r=v.concat(n.value);t.setFieldValue(o,r)}}}))})})),g&&j.createElement(C,p,g))}}]),t}(),ae=F.connect(t.withStyles(function(){return{formControl:{"flex-direction":"row"},formLabel:{display:"flex","flex-direction":"row","align-items":"center","margin-right":"20px"}}})(oe)),ie=function(e){function t(e){var r;return V(this,t),(r=K(this,$(t).call(this,e))).handleChange=r.handleChange.bind(Y(Y(r))),r.handleBlur=r.handleBlur.bind(Y(Y(r))),r}return z(t,j.PureComponent),D(t,[{key:"handleChange",value:function(e){this.props.field&&this.props.field.onChange(e),this.props.onChange&&this.props.onChange(e)}},{key:"handleBlur",value:function(e){this.props.field&&this.props.field.onBlur(e),this.props.onBlur&&this.props.onBlur(e)}},{key:"render",value:function(){var e=this.props,r=e.children,t=e.fullWidth,n=void 0===t||t,o=e.compact,a=e.InputProps,i=e.label,l=U(e,["children","fullWidth","compact","InputProps","label"]);o&&(a=H({},a,{startAdornment:j.createElement(w,{style:{whiteSpace:"nowrap"},position:"start"},i)}),i=""),a=H({},a,{classes:{input:"mui"}});var s=ee(l);return j.createElement(c,W({},s,{children:r,fullWidth:n,InputProps:a,label:i},{onChange:this.handleChange,onBlur:this.handleBlur,InputLabelProps:"date"===s.type?{shrink:!0}:{}}))}}]),t}();ie.displayName="FormikMaterialUITextField";var le=function(e){return parseInt(e,10)};var se=function(e){function r(){return V(this,r),K(this,$(r).apply(this,arguments))}return z(r,j.PureComponent),D(r,[{key:"render",value:function(){var e=this.props,r=e.InputProps,t=U(e,["InputProps"]);return j.createElement(ie,W({},t,{helperText:function(e){var r=e.amount,t=e.short,n=e.numberWithCommas,o=e.fullWords,a=e.roundOff,i=void 0===a||a;if(!r)return 0;if(e.abbreviated||t){r=le(r);var l=Math.round(r/1e5);if(l<100)return t?l+"L":l+" Lakhs";var s=l/100;return t?s+"C":s+(1<s?" Crores":" Crore")}if(n)return r.toLocaleString("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0,minimumFractionDigits:0});if(9<(r=""+r).length)return"overflow";if(o){var u=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],c=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];return function(e){if(9<(e=""+e).length)return"overflow";var r=("000000000"+e).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(!r)return"";var t="";return t+=0!==le(r[1])?(u[+r[1]]||c[r[1][0]]+" "+u[r[1][1]])+"Crore ":"",t+=0!==le(r[2])?(u[+r[2]]||c[r[2][0]]+" "+u[r[2][1]])+"Lakh ":"",t+=0!==le(r[3])?(u[+r[3]]||c[r[3][0]]+" "+u[r[3][1]])+"Thousand ":"",t+=0!==le(r[4])?(u[+r[4]]||c[r[4][0]]+" "+u[r[4][1]])+"Hundred ":"",t+=0!==le(r[5])?(""!==t?"And ":"")+(u[+r[5]]||c[r[5][0]]+" "+u[r[5][1]])+"Only ":"Only"}(r)}var p=("000000000"+r).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/),d="";return p&&(d+=0!==le(p[1])?(p[1]<10?p[1][1]:p[1][0]+p[1][1])+" Crore"+(1<p[1][1]?"s":"")+" ":"",d+=0!==le(p[2])?(p[2]<10?p[2][1]:p[2][0]+p[2][1])+" Lakh"+(1<p[2][1]?"s":"")+" ":"",i||(d+=0!==le(p[3])?(p[3]<10?p[3][1]:p[3][0]+p[3][1])+" Thousand"+(1<p[3][1]?"s":"")+" ":"",d+=0!==le(p[4])?p[4]+" Hundred"+(1<p[4][1]?"s":"")+" ":"",d+=0!==le(p[5])?p[5]<10?p[5][1]:p[5][0]+p[5][1]:"")),d}({amount:t.value||(t.field||{}).value})||"",InputProps:H({startAdornment:j.createElement(w,{position:"start"},"â‚¹")},r)}))}}]),r}();function ue(e){var r=e.inputRef,t=U(e,["inputRef"]);return j.createElement("div",W({ref:r},t))}var ce={Control:function(e){return j.createElement(c,W({fullWidth:!0,InputProps:{inputComponent:ue,inputProps:H({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)},InputLabelProps:{shrink:e.isFocused||e.hasValue}},e.selectProps.TextFieldProps))},Input:function(e){return j.createElement(n.components.Input,W({},e,{autoComplete:"none"}))},Menu:function(e){return j.createElement(a,W({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return j.createElement(i,{tabIndex:-1,label:e.children,className:X(e.selectProps.classes.chip,G({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:j.createElement(l,e.removeProps)})},NoOptionsMessage:function(e){return j.createElement(o,W({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return j.createElement(p,W({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return j.createElement(o,W({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return j.createElement(o,W({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return j.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},pe=function(e){function r(){return V(this,r),K(this,$(r).apply(this,arguments))}return z(r,j.PureComponent),D(r,[{key:"componentDidMount",value:function(){var e=this.props,r=e.field;r=void 0===r?{}:r;var t=e.form;t=void 0===t?{}:t;var n=e.defaultValue;n&&(0,t.setFieldValue)(r.name,n)}},{key:"render",value:function(){var e=this.props,r=e.classes,t=e.theme,n=e.label,o=e.options,a=void 0===o?[]:o,i=e.optionsAsync,l=e.placeholder,s=void 0===l?"":l,u=e.field,c=(u=void 0===u?{}:u).value,p=u.name,d=e.form,f=(d=void 0===d?{}:d).touched,h=d.errors,m=d.setFieldValue,v=d.setFieldTouched,b=e.helperText,y=e.defaultValue,g=e.creatable,k=e.valueWithLabel,C=void 0===k?!!i:k,P=U(e,["classes","theme","label","options","optionsAsync","placeholder","field","form","helperText","defaultValue","creatable","valueWithLabel","compact"]),F=f&&f[p]&&h[p],x=H({},P,{classes:r,placeholder:s,autocomplete:"off",styles:{input:function(e){return H({},e,{color:t.palette.text.primary,"& input":{font:"inherit"}})},dropdownIndicator:function(e){return H({},e,{padding:"6.5px"})}},components:ce,TextFieldProps:{label:n,placeholder:s,error:!!F,helperText:F||b},name:p},y?{defaultValue:C?y:a.find(function(e){return e.value==y.value})}:{},c?{value:C?c:a.find(function(e){return e.value==c})}:{},{onChange:function(e){m(p,C?e:e.value)},onBlur:function(){v(p)}});if(i){var w=g?require("react-select/lib/AsyncCreatable"):require("react-select/lib/Async");return j.createElement(w.default,W({loadOptions:i,cacheOptions:!0,defaultOptions:!0},x))}var E=g?require("react-select/lib/Creatable").default:A;return j.createElement(E,W({options:a||[]},x))}}]),r}(),de=t.withStyles(function(e){return{root:{paddingTop:e.spacing.unit,fontSize:"inherit",width:"100%"},input:{display:"flex",padding:0},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden",fontSize:"inherit"},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},chipFocused:{backgroundColor:s.emphasize("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},singleValue:{fontSize:"inherit"},placeholder:{position:"absolute",left:2,fontSize:"inherit"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},divider:{height:2*e.spacing.unit}}},{withTheme:!0})(pe),fe=function(e){function r(){return V(this,r),K(this,$(r).apply(this,arguments))}return z(r,j.Component),D(r,[{key:"render",value:function(){var e=this.props,r=e.classes,t=e.fab,n=e.processing,o=e.success,a=e.color,i=void 0===a?"primary":a,l=e.variant,s=void 0===l?"contained":l,u=e.children,c=void 0===u?"Submit":u,p=e.fullWidth,d=U(e,["classes","fab","processing","success","color","variant","children","fullWidth"]),f=X(G({},r.buttonSuccess,o));return j.createElement("div",{className:r.root,style:{width:p?"100%":"auto"}},t?j.createElement("div",{className:r.wrapper},j.createElement(g,W({color:i,className:f},d),j.createElement(o?E:O,null)),n&&j.createElement(h,{size:68,className:r.fabProgress})):j.createElement("div",{className:p?r.wrapperFullWidth:r.wrapper},j.createElement(y,W({fullWidth:p,variant:s,color:i,className:f,disabled:n},d),c),n&&j.createElement(h,{size:24,className:r.buttonProgress})))}}]),r}();fe.displayName="FButton";var he=t.withStyles(function(){return{root:{display:"flex",alignItems:"center",marginTop:"8px"},wrapper:{margin:"auto",position:"relative"},wrapperFullWidth:{margin:"auto",position:"relative",width:"100%"},buttonSuccess:{backgroundColor:d[500],"&:hover":{backgroundColor:d[700]},backgroundImage:"url(https://static.financebuddha.com/assets/images/gradient-bg.png)",backgroundSize:"contain"},fabProgress:{color:d[500],position:"absolute",top:-6,left:-6,zIndex:1},buttonProgress:{color:d[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(fe);var me=function(e){var r,t,n=e.type,o=e.container,a=e.required,i=e.validate,l=e.label,s=void 0===l?"":l,u=e.mui,c=U(e,["type","container","required","validate","label","mui"]),p=o?require("@material-ui/core/Grid").default:function(e){return e.children},d=s,f=function(){},h=function(){};if("function"==typeof i)f=i;else if(i)switch(n){case"aadhar":f=function(e){return!/^\d{4}\s\d{4}\s\d{4}$/.test(e)&&("string"==typeof i?i:"Invalid Aadhar Number")};break;case"dob":f=function(e){return r=e,t=new Date,n=new Date,o=new Date,a=new Date(r),o.setFullYear(t.getFullYear()-57),n.setFullYear(t.getFullYear()-18),!(a.getFullYear()>o.getFullYear()&&a.getFullYear()<n.getFullYear())&&("string"==typeof i?i:"Invalid DOB Age Limit (18 to 57)");var r,t,n,o,a};break;case"pincode":f=function(e){return!/^[1-9][0-9]{5}$/.test(e)&&("string"==typeof i?i:"Invalid Pincode")};break;case"pan":f=function(e){return!/[A-Za-z]{5}\d{4}[A-Za-z]{1}/.test(e)&&("string"==typeof i?i:"Invalid PAN Number")};break;case"inr":f=function(e){return!/^\d*$/.test(e)&&("string"==typeof i?i:"Invalid Amount")};break;case"mobile":case"otp":f=function(e){return r="string"==typeof i?i:"Invalid Indian Mobile",!/^\d{10}$/.test(e)&&r;var r};break;case"email":f=function(e){return r="string"==typeof i?i:"Invalid Email",!/^.+@.+\..+$/.test(e)&&r;var r}}switch(a&&(h=function(e){return void 0===e&&("string"==typeof a?a:"Required")},d+=" *"),n){case"switch":r="checkbox",t=require("./formik/Switch").default;break;case"checkbox":r="checkbox",t=c.options?require("./formik/CheckboxGroup").default:require("./formik/Checkbox").default;break;case"radio":r="radio",t=require("./formik/Radio").default;break;case"buttons":r="buttons",t=require("./formik/ButtonGroup").default;break;case"otp":t=require("./formik/OtpField").default;break;case"inr":r="number",t=require("./formik/CurrencyField").default;break;case"select":t=u?require("./formik/Select").default:require("./formik/FilterField").default;break;case"mobile":r="number",t=require("./formik/TextField").default;break;case"dob":r="date",t=require("./formik/TextField").default;break;case"email":t=require("./formik/TextField").default;break;case"pincode":r="number",t=require("./formik/TextField").default;break;default:r=n||"text",t=require("./formik/TextField").default}return j.createElement(p,W({item:!0},o),j.createElement(t,W({validate:function(e){return h(e)||f(e)},label:d,type:r,compact:!0},c)))},ve=function(e){var r=e.children,t=e.fast,n=void 0===t||t,o=U(e,["children","render","fast"]),a=require("formik")[n?"FastField":"Field"];return j.createElement(a,W({},o,"hidden"===o.type?{}:{component:ie}),r)},be=function(e){function a(){var e,r;V(this,a);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return G(Y(Y(r=K(this,(e=$(a)).call.apply(e,[this].concat(n))))),"state",{remainingSecs:30}),r}return z(a,j.PureComponent),D(a,[{key:"tick",value:function(){var e=this.state.remainingSecs;1===e&&clearInterval(this.timer),this.setState({remainingSecs:e-1})}},{key:"checkTick",value:function(){var e=this.props.tick;"start"===e&&(this.setState({remainingSecs:30}),this.timer=setInterval(this.tick,1e3)),"clear"===e&&(this.setState({remainingSecs:0}),clearInterval(this.timer))}},{key:"componentDidMount",value:function(){this.checkTick()}},{key:"componentDidUpdate",value:function(e){e.tick!==this.props.tick&&this.checkTick()}},{key:"render",value:function(){var e=this.props,r=e.onClick,t=e.processing,n=this.state.remainingSecs;return 0===n&&(0,e.startCounterAgain)(),j.createElement(he,{size:"small",variant:"text",disabled:!!n,onClick:r,processing:t},"Resend ",0<n?"in ".concat(n,"s"):"")}}]),a}(),ye=function(e){function t(e){var r;return V(this,t),G(Y(Y(r=K(this,$(t).call(this,e)))),"state",{otp:""}),r.hSend=r.hSend.bind(Y(Y(r))),r.hVerify=r.hVerify.bind(Y(Y(r))),r.hSetOtp=r.hSetOtp.bind(Y(Y(r))),r.hCancelOtp=r.hCancelOtp.bind(Y(Y(r))),r.hEnterOnMobile=r.hEnterOnMobile.bind(Y(Y(r))),r.hent=r.hent.bind(Y(Y(r))),r}return z(t,j.PureComponent),D(t,[{key:"hSend",value:function(){var r=this,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).resend,t=this.props,n=t.otpPurpose,o=void 0===n?"verification":n,a=t.onOtpSend,i=t.field,l=(i=void 0===i?{}:i).name,s=i.value,u=t.form,c=(u=void 0===u?{}:u).errors,p=u.setFieldError;if(s&&!(void 0===c?{}:c)[l]){var d=""+s;this.setState({isSending:!0}),Meteor.call("otp.create",{phone:d,purpose:o,resend:e},function(e){if(a&&a({error:e,mobile:d}),e)return p&&p(l,e.reason),void r.setState({isSending:!1});r.setState({sent:!0,tick:"start",isSending:!1})})}}},{key:"hVerify",value:function(){var r=this,e=this.props,t=e.otpPurpose,n=void 0===t?"verification":t,o=e.onOtpSubmitCallback,a=e.user,i=e.expectedUserId,l=e.field,s=e.form,u=this.state.otp,c=""+(l=void 0===l?{}:l).value,p=this.otpError(u);if(p)this.setState({otpError:p});else{this.setState({isVerifying:!0});var d=function(e){e.verified&&s&&s.setFieldValue("userId",Meteor.userId()),r.setState(H({isVerifying:!1},e)),s.setFieldError("otp",e.otpError)};if((a||{})._id)Meteor.call("user.verify",{expectedUserId:i,phone:c,otp:u,purpose:"login"!==n?n:""},function(e){if(e)switch(e.error){case"phone-already-associated":d({phoneAssociatedData:e.details,tick:"clear"});break;case"incorrect-otp":d({otp:"",otpError:e.reason});break;default:Log.fatal(e.reason,e,{expectedUserId:i,phone:c,otp:u,purpose:"login"!==n?n:""}),d({otpError:e.reason,tick:"clear"})}else o?o({cb:d({verified:!0,tick:"clear"})}):d({verified:!0,tick:"clear"})});else{var f={phone:c,otp:u,purpose:"login"!==n?n:"",expectedUserId:i};Meteor.loginWithPhone(f,function(e){if(e)switch(e.error){case"incorrect-otp":d({otp:"",otpError:e.reason});break;case"unexpected-user":return void d({phoneAssociatedData:e.details,tick:"clear"});default:Log.fatal("loginWithPhone 1: "+e.reason,e,f),d({otpError:e.reason,tick:"clear"})}else Meteor.call("logs.addLogin"),o?o({cb:d({verified:!0,tick:"clear"})}):d({verified:!0,tick:"clear"})})}}}},{key:"hCancelOtp",value:function(){this.setState({tick:"clear",otp:"",otpError:!1,sent:!1}),this.props.onOtpCancel&&this.props.onOtpCancel()}},{key:"otpError",value:function(e){return!/^\d{5}$/.test(e)&&"5 digits"}},{key:"hSetOtp",value:function(e){var r=e.currentTarget.value;this.setState({otpError:this.otpError(r),otp:r})}},{key:"hEnterOnOtp",value:function(e){"Enter"===e.key&&(e.preventDefault(),this.hVerify())}},{key:"hEnterOnMobile",value:function(e){"Enter"===e.key&&(e.preventDefault(),this.hSend())}},{key:"phones",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).verified,r=void 0!==e&&e,t=this.props.user;return((t||{}).phones||[]).length?t.phones.filter(function(e){return(e.number||"").startsWith("+91")&&(!r||e.verified)}).map(function(e){return{value:e.number.substr(3),label:e.number}}):[]}},{key:"checkVerified",value:function(r){var e=this.props.user;!e&&this.setState({verified:!1});var t=this,n=e&&e.phones;r&&n&&n.map(function(e){e.number&&e.number.replace(e.code||"+91","")===(r&&(""+r).replace("+91",""))&&e.verified&&!0===e.verified&&t.setState({verified:!0})})}},{key:"render",value:function(){var e=this,r=this.props,t=r.user,n=r.classes,o=U(r,["onOtpSubmitCallback","user","dispatch","classes"]),a=this.state,i=a.sent,l=a.otp,s=a.otpError,u=a.isSending,c=a.isVerifying,p=a.verified,d=a.tick,f=this.hSend,h=this.hVerify,m=this.hSetOtp,v=this.hEnterOnMobile,b=this.hEnterOnOtp,y=this.hCancelOtp,g=this.phones(),k=(U(o,["field","form"]),""+(o.value||(o.field||{}).value||""));return j.createElement(T,{container:!0,justify:"center"},j.createElement(T,{item:!0,xs:12},p?j.createElement(j.Fragment,null,j.createElement(ve,W({},o,{type:"number",inputProps:{readOnly:!0},InputProps:{endAdornment:j.createElement(w,null,j.createElement(q,{classes:{root:n.doneAll},"aria-label":"Verified"},j.createElement(B,null)))}})),(t||{})._id&&j.createElement(me,{value:t._id,name:"userId",label:"",type:"hidden"})):i?j.createElement(ve,{name:"otp",label:"OTP",type:"number",value:l,error:!!s,helperText:s,onChange:m,onKeyDown:b,InputProps:{endAdornment:j.createElement(w,null,j.createElement(I,{"aria-label":"Cancel Otp",onClick:y},j.createElement(S,null)))}}):g.length?j.createElement(de,W({},o,{defaultValue:g[0].value,options:g})):j.createElement(ve,W({},o,{type:"number",onKeyDown:v}))),!p&&j.createElement(T,{container:!0,item:!0,xs:12,justify:i?"space-between":"flex-end"},i?j.createElement(j.Fragment,null,j.createElement(be,{tick:d,onClick:function(){return f({resend:!0})},startCounterAgain:function(){return e.setState({tick:"end"})},processing:u}),j.createElement(he,{size:"small",variant:"outlined",color:"primary",onClick:h,processing:c},"Verify ",k)):j.createElement(he,{size:"small",variant:"outlined",color:"primary",onClick:f,processing:u,success:i},"Send OTP")))}}]),t}(),ge=t.withStyles(function(){return{doneAll:{color:d[500]}}})(ye),ke=NaN,Ce="[object Symbol]",Pe=/^\s+|\s+$/g,Fe=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,we=/^0o[0-7]+$/i,Ee=parseInt,Oe="object"==typeof self&&self&&self.Object===Object&&self,Se="object"==typeof J&&J&&J.Object===Object&&J||Oe||Function("return this")(),Te=Object.prototype.toString,Ie=Math.max,qe=Math.min,Be=function(){return Se.Date.now()};function Le(e){var r=typeof e;return!!e&&("object"==r||"function"==r)}function Ne(e){if("number"==typeof e)return e;if("symbol"==typeof(r=e)||(t=r)&&"object"==typeof t&&Te.call(r)==Ce)return ke;var r,t;if(Le(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=Le(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Pe,"");var o=xe.test(e);return o||we.test(e)?Ee(e.slice(2),o?2:8):Fe.test(e)?ke:+e}var Me=function(n,o,e){var a,i,l,s,u,c,p=0,d=!1,f=!1,r=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function h(e){var r=a,t=i;return a=i=void 0,p=e,s=n.apply(t,r)}function m(e){var r=e-c;return void 0===c||o<=r||r<0||f&&l<=e-p}function v(){var e,r,t=Be();if(m(t))return b(t);u=setTimeout(v,(r=o-((e=t)-c),f?qe(r,l-(e-p)):r))}function b(e){return u=void 0,r&&a?h(e):(a=i=void 0,s)}function t(){var e,r=Be(),t=m(r);if(a=arguments,i=this,c=r,t){if(void 0===u)return p=e=c,u=setTimeout(v,o),d?h(e):s;if(f)return u=setTimeout(v,o),h(c)}return void 0===u&&(u=setTimeout(v,o)),s}return o=Ne(o)||0,Le(e)&&(d=!!e.leading,l=(f="maxWait"in e)?Ie(Ne(e.maxWait)||0,o):l,r="trailing"in e?!!e.trailing:r),t.cancel=function(){void 0!==u&&clearTimeout(u),a=c=i=u=void(p=0)},t.flush=function(){return void 0===u?s:b(Be())},t},je=function(e){function t(e){var r;return V(this,t),(r=K(this,$(t).call(this,e))).saveForm=Me(r.saveForm,e.debounce).bind(Y(Y(r))),r}return z(t,r.Component),D(t,[{key:"saveForm",value:function(r){var e=this.props,t=e.genericKeys,n=void 0===t?[]:t;if(window.formStore){formStore.setItem(e.name,r);var o={};n.forEach(function(e){o[e]=r[e]}),formStore.setItem("generic",o)}else Log.fatal("Please define the infoStore")}},{key:"componentDidUpdate",value:function(e){f((e.formik||{}).values,(this.context.formik||{}).values)||this.saveForm(e.formik.values)}},{key:"componentDidMount",value:function(){var e=this.props,r=e.formik,t=e.name;window.formStore?formStore.getItem("generic").then(function(e){e&&r.setValues(H({},r.values,e)),formStore.getItem(t).then(function(e){return e&&r.setValues(H({},r.values,e))})}):Log.fatal("Please define the infoStore")}},{key:"render",value:function(){return null}}]),t}();G(je,"defaultProps",{debounce:300});var Ae=F.connect(je),Ve=function(e){function t(e){var r;return V(this,t),(r=K(this,$(t).call(this,e))).handleChange=r.handleChange.bind(Y(Y(r))),r.handleBlur=r.handleBlur.bind(Y(Y(r))),r}return z(t,j.PureComponent),D(t,[{key:"handleChange",value:function(e){this.props.field&&this.props.field.onChange(e),this.props.onChange&&this.props.onChange(e)}},{key:"handleBlur",value:function(e){this.props.field&&this.props.field.onBlur(e),this.props.onBlur&&this.props.onBlur(e)}},{key:"render",value:function(){var e=this.props,r=e.label,t=e.row,n=e.classes,o=void 0===n?{}:n,a=e.value,i=void 0===a?"on":a,l=e.FormControlProps,s=e.FormHelperTextProps,u=e.FormControlLabelProps,c=ee(U(e,["label","row","classes","value","FormControlProps","FormHelperTextProps","FormControlLabelProps"])),p=c.error,d=c.helperText,f=U(c,["error","helperText"]);return j.createElement(k,W({component:"fieldset",error:p},l,{className:X(G({},o.rowLabel,"all"===t),l&&l.className)}),j.createElement(m,W({label:r,className:X(G({},o.rowLabel,"all"===t),u&&u.className)},u,{control:j.createElement(L,W({},f,{value:i,onChange:this.handleChange,onBlur:this.handleBlur}))})),(p||d)&&j.createElement(C,W({},s,{className:X(G({},o.rowHelperText,"all"===t),s&&s.className)}),d))}}]),t}();Ve.displayName="FormikMaterialUIRadio";var Re=function(e){function t(e){var r;return V(this,t),G(Y(Y(r=K(this,$(t).call(this,e)))),"state",{dirty:!1}),G(Y(Y(r)),"handleChange",function(e){r.props.field&&r.props.field.onChange(e),r.props.onChange&&r.props.onChange(e.target.value),r.state.dirty||r.setState({dirty:!0})}),r.handleChange=r.handleChange.bind(Y(Y(r))),r.handleBlur=r.handleBlur.bind(Y(Y(r))),r}return z(t,j.Component),D(t,[{key:"handleBlur",value:function(){this.props.field&&this.props.form.setFieldTouched(this.props.field.name,!0)}},{key:"render",value:function(){var e=this.props,r=e.label,t=e.FormControlProps,n=e.FormLabelProps,o=e.FormHelperTextProps,a=e.FormControlLabelProps,i=e.RadioProps,l=e.RadioGroupProps,s=e.compact,u=e.classes,c=e.options,p=ee(U(e,["label","FormControlProps","FormLabelProps","FormHelperTextProps","FormControlLabelProps","RadioProps","RadioGroupProps","compact","classes","options"])),d=p.error,f=p.helperText,h=U(p,["error","helperText"]);return j.createElement(k,W({error:d},t,{classes:H({},(t||{}).classes,s?{root:u.formControl}:{})}),r&&j.createElement(P,W({},n,{classes:H({},(n||{}).classes,s?{root:u.formLabel}:{})}),r),j.createElement(N,W({},l,{row:(l||{}).row||s},h,{onChange:this.handleChange,onBlur:this.handleBlur}),c.map(function(e){return j.createElement(m,W({key:e.value,control:j.createElement(L,i)},a,{value:e.value,label:e.label}))})),f&&j.createElement(C,W({},o,{className:X(G({},u.rowHelperText,"all"===row),o&&o.className)}),f))}}]),t}(),De=t.withStyles(function(){return{formControl:{"flex-direction":"row"},formLabel:{display:"flex","flex-direction":"row","align-items":"center","margin-right":"20px"}}})(Re),Ge=function(e){var r=e.options,t=e.multiple,n=void 0!==t&&t,o=e.native,a=void 0!==o&&o,i=e.InputLabelProps,l=e.SelectProps,s=U(e,["options","multiple","native","InputLabelProps","SelectProps","children"]),u=!n&&a;return j.createElement(ie,W({},s,{InputLabelProps:H({},!0===u?{shrink:!0}:{},i),SelectProps:H({},l,{multiple:n,native:u}),select:!0}),r.map(u?function(e,r){return j.createElement("option",{key:r,value:e.value},e.label)}:function(e,r){return j.createElement(p,{key:r,value:e.value},e.label)}))};Ge.displayName="FormikMaterialUISelect";var We=function(e){function t(e){var r;return V(this,t),(r=K(this,$(t).call(this,e))).handleChange=r.handleChange.bind(Y(Y(r))),r.handleBlur=r.handleBlur.bind(Y(Y(r))),r}return z(t,j.PureComponent),D(t,[{key:"handleChange",value:function(e){this.props.field&&this.props.field.onChange(e),this.props.onChange&&this.props.onChange(e)}},{key:"handleBlur",value:function(e){this.props.field&&this.props.field.onBlur(e),this.props.onBlur&&this.props.onBlur(e)}},{key:"render",value:function(){var e=this.props,r=e.fullWidth,t=void 0===r||r,n=e.classes,o=e.inputProps,a=void 0===o?{}:o,i=e.label,l=U(e,["fullWidth","classes","inputProps","label","compact"]);a.classes=H({},n,a.classes);var s=ee(l),u=s.error,c=void 0!==u&&u,p=s.helperText,d=U(s,["error","helperText"]);return j.createElement(k,{fullWidth:t},j.createElement(m,{control:j.createElement(M,W({},d,{onChange:this.handleChange,onBlur:this.handleBlur})),label:i}),p&&j.createElement(C,{error:c},p))}}]),t}();We.displayName="FormikMaterialUISwitch";var He=t.withStyles(function(){return{inputType:{height:"23px"}}})(We);e.ButtonGroup=function(e){var r=e.children,t=e.fast,n=void 0===t||t,o=U(e,["children","render","fast","type","buttons"]),a=require("formik")[n?"FastField":"Field"];return j.createElement(a,W({},o,{component:te}),r)},e.Checkbox=function(e){var r=e.children,t=e.fast,n=void 0===t||t,o=e.type,a=U(e,["children","render","fast","type"]),i=require("formik")[n?"FastField":"Field"];return j.createElement(i,W({},a,"checkbox"===o?{}:{type:o},"hidden"===o?{}:{component:ne}),r)},e.CheckboxGroup=ae,e.CurrencyField=function(e){var r=e.fast,t=U(e,["render","fast"]),n=require("formik")[r?"FastField":"Field"];return j.createElement(n,W({},t,{component:se}))},e.FilterField=function(e){var r=e.fast,t=U(e,["children","render","fast"]),n=require("formik")[r?"FastField":"Field"];return j.createElement(n,W({},t,{component:de}))},e.OtpField=function(e){var r=e.fast,t=U(e,["children","render","fast"]),n=require("formik")[r?"FastField":"Field"];return j.createElement(n,W({},t,{component:ge}))},e.Persist=Ae,e.Radio=function(e){var r=e.children,t=e.fast,n=void 0===t||t,o=e.type,a=U(e,["children","render","fast","type","buttons"]),i=require("formik")[n?"FastField":"Field"];return j.createElement(i,W({},a,"radio"===o?{}:{type:o},"hidden"===o?{}:{component:a.options?De:Ve}),r)},e.Select=function(e){var r=e.fast,t=U(e,["children","render","fast"]),n=require("formik")[r?"FastField":"Field"];return j.createElement(n,W({},t,{component:Ge}))},e.Switch=function(e){var r=e.children,t=e.fast,n=void 0===t||t,o=e.type,a=U(e,["children","render","fast","type"]),i=require("formik")[n?"FastField":"Field"];return j.createElement(i,W({},a,"checkbox"===o?{}:{type:o},"hidden"===o?{}:{component:He}),r)},e.TextField=ve,e.Input=me,Object.defineProperty(e,"__esModule",{value:!0})});
